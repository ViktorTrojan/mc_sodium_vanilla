# Project Structure

This document describes the structure of the Sodium Vanilla modpack project.

## Root Directory Structure

```
.ai/                  # AI assistant configuration and rules
.claude/              # Claude Code specific configuration
.github/              # GitHub Actions and workflows
docs/                 # Project documentation
modpack_creator/      # TypeScript/Bun tooling for modpack automation
mods/                 # Minecraft mod files (.toml files managed by packwiz)
resourcepacks/        # Minecraft resource packs
scripts/              # Shell scripts and utilities
docker-compose.yml    # Docker configuration for development
Dockerfile            # Docker image definition
index.toml            # Packwiz mod index
pack.toml             # Packwiz modpack configuration
.packwizignore        # Files to ignore for packwiz
README.md             # Project documentation
```

## Project Type

This is a **Minecraft modpack project** using:
- **packwiz**: For managing Minecraft mods and versions
- **Bun + TypeScript**: For automation tooling in the `modpack_creator/` directory

This is **NOT a monorepo**. The `modpack_creator/` directory contains a standalone tool for managing the modpack.

## modpack_creator/ Structure

The tooling directory follows this structure:

```
modpack_creator/
├── src/                  # Source code
│   ├── index.ts          # Main entry point
│   ├── auto_update.ts    # Auto-update script
│   ├── mod_list.ts       # Mod list management
│   ├── install_mods.ts   # Mod installation logic
│   ├── git_tag_manager.ts # Git tag management
│   ├── update_detector.ts # Update detection logic
│   ├── version_discovery.ts # Version discovery
│   ├── fetch_with_retry.ts # HTTP retry utility
│   └── types.ts          # TypeScript type definitions
├── test/                 # Test files (ending with `.test.ts`)
│   ├── git_tag_manager.test.ts
│   ├── update_detector.test.ts
│   └── version_discovery.test.ts
├── .env                  # Environment variables (gitignored)
├── .env.example          # Example environment variables (committed)
├── package.json          # Package configuration and scripts
├── biome.json            # Biome configuration for linting/formatting
├── tsconfig.json         # TypeScript configuration
└── README.md             # Tool documentation
```

## Key Files

### Modpack Configuration
- `pack.toml`: Main packwiz configuration defining modpack name, version, and Minecraft/Fabric versions
- `index.toml`: Index of all installed mods (auto-generated by packwiz)
- `mods/*.toml`: Individual mod configuration files managed by packwiz

### Tooling
- `modpack_creator/src/index.ts`: Main script that processes and installs mods
- `modpack_creator/src/auto_update.ts`: Automated update checker for mods
- `modpack_creator/src/mod_list.ts`: Manages the list of mods to install

## Modpack Variants

The project supports two modpack variants:
- **safe**: Only includes mods safe for multiplayer servers
- **full**: Includes all mods (may cause issues on some servers)

These are controlled by the `--safe` and `--full` flags when running the modpack creator tool.
